# 好感度系统视觉反馈设计

## 评分系统

### 评分范围：-3 到 +3

| 评分 | 含义 | 颜色 | 图标 | 边框颜色 |
|-----|------|------|------|---------|
| **+3** | 完美高情商 | 深绿色 🟢 | 💚 | `#22c55e` |
| **+2** | 高情商 | 绿色 🟢 | 💚 | `#22c55e` |
| **+1** | 较好 | 黄绿色 🟡 | 💖 | `#84cc16` |
| **0** | 中性/普通 | 灰色 ⚪ | 💬 | 主题色 |
| **-1** | 略差 | 橙色 🟠 | 💔 | `#fb923c` |
| **-2** | 低情商 | 红色 🔴 | ❌ | `#ef4444` |
| **-3** | 很差/尴尬 | 深红色 🔴 | ❌ | `#ef4444` |

## 视觉效果实现

### 1. 好感度标签设计

每个选项右下角显示好感度标签，包含：

- **文字**：`+2` / `-1` / `0`
- **图标**：表情符号（💚💖💬💔❌）
- **背景色**：半透明彩色背景
- **边框**：2px 实线边框
- **光晕**：box-shadow 发光效果

```css
/* 示例：+2 高情商 */
background: rgba(34, 197, 94, 0.3);
border: 2px solid rgb(34, 197, 94);
box-shadow: 0 0 15px rgba(34, 197, 94, 0.5);
```

### 2. 选项卡片边框

选项卡片的**左侧粗边框**根据好感度动态变色：

- **高情商** (+2/+3)：绿色边框 - 鼓励用户选择
- **中性** (0)：主题色边框 - 保持原有风格识别
- **低情商** (-2/-3)：红色边框 - 警示用户风险

### 3. 悬停交互

鼠标悬停时：
- 背景色微微变亮（`#000000` → `#0a0a0a`）
- 边框发光增强（添加 20px 光晕）
- 平滑过渡动画（300ms）

```javascript
onMouseEnter: {
  backgroundColor: '#0a0a0a',
  boxShadow: `0 0 20px ${favorBorderColor}80`
}
```

## 代码实现

### 核心逻辑 (GalgameOptions.js)

```javascript
// 1. 根据好感度确定边框颜色
const favorBorderColor = 
  opt.favorChange >= 2 ? '#22c55e' :  // 绿色
  opt.favorChange >= 1 ? '#84cc16' :  // 黄绿色
  opt.favorChange === 0 ? theme.borderColor : 
  opt.favorChange >= -1 ? '#fb923c' : // 橙色
  '#ef4444';                          // 红色

// 2. 渲染好感度标签
{(opt.favorChange !== undefined) && (
  <span style={{
    backgroundColor: opt.favorChange >= 2 ? 'rgba(34, 197, 94, 0.3)' : ...
    border: opt.favorChange >= 2 ? '2px solid rgb(34, 197, 94)' : ...
  }}>
    {opt.favorChange > 0 ? `+${opt.favorChange}` : opt.favorChange}
    {opt.favorChange >= 2 ? ' 💚' : ...}
  </span>
)}
```

## 用户体验设计

### 视觉层次

1. **第一眼**：边框颜色（红/绿）立即传达情商高低
2. **细看**：右下角标签显示精确评分
3. **交互**：悬停光效增强色彩感知

### 色彩心理学

- **绿色**：正面、安全、鼓励 → 高情商选择
- **黄色**：中性、谨慎 → 普通选择
- **红色**：警告、危险 → 低情商警示

### 可访问性

- 使用**颜色 + 图标**双重提示（色盲友好）
- 高对比度文字（白色 + 黑色阴影）
- 清晰的边框和发光效果

## 实际效果示例

### 示例 1：高情商选项 (+3)
```
┌──────────────────────────────────────┐
│ ✨ 真的吗？！我也超喜欢你的！(≧∇≦)/ │  ← 绿色边框
│                                      │
│ 元气              [+3 💚] ← 绿色标签 │
└──────────────────────────────────────┘
```

### 示例 2：低情商选项 (-2)
```
┌──────────────────────────────────────┐
│ ❄️ 嗯。(¬_¬)                         │  ← 红色边框
│                                      │
│ 高冷              [-2 ❌] ← 红色标签 │
└──────────────────────────────────────┘
```

### 示例 3：中性选项 (0)
```
┌──────────────────────────────────────┐
│ 💬 啊...谢谢你 (._.)                 │  ← 主题色边框
│                                      │
│ 三无              [0 💬] ← 灰色标签  │
└──────────────────────────────────────┘
```

## 测试建议

### 测试用例

1. **表白场景** - "我喜欢你"
   - 预期：3 个选项，评分各不相同
   - 验证：颜色是否正确映射

2. **日常对话** - "今天天气不错"
   - 预期：评分偏中性（-1 到 +1）
   - 验证：灰色和黄色边框

3. **冲突场景** - "我很生气"
   - 预期：评分差异明显（-3 到 +3）
   - 验证：红色和绿色对比强烈

### 验证清单

- [ ] 所有选项都显示好感度标签
- [ ] 边框颜色与评分匹配
- [ ] 悬停时光效正常
- [ ] 图标正确显示（💚💖💬💔❌）
- [ ] 文字可读性良好（白色 + 阴影）
- [ ] 动画流畅（300ms 过渡）

## 扩展功能建议

### 1. 累积好感度统计
- 记录用户选择的历史评分
- 显示总好感度趋势图
- 根据累积好感度解锁特殊对话

### 2. 个性化偏好学习
- 分析用户倾向选择的评分范围
- 调整推荐权重
- 优先展示用户偏好风格

### 3. 动画增强
- 选择时播放评分变化动画
- 高情商选择：爱心飘落特效
- 低情商选择：屏幕轻微震动

### 4. 音效反馈
- +2/+3：清脆的提示音
- 0：中性音效
- -2/-3：警告音效
