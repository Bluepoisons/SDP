/* 
 * ğŸŒ… SDP v4.0 - æ—¶é—´è½®ç›˜ä¸»é¢˜ç³»ç»Ÿ
 * The Time Cycle: Morning â†” Sunset â†” Night
 * 
 * è®¾è®¡ç†å¿µï¼š
 * - Morning: è”šè“æ¡£æ¡ˆé£æ ¼ï¼Œå¹²å‡€é€šé€
 * - Sunset: æ–°æµ·è¯šé­”å¹»æ—¶åˆ»ï¼Œç´«é‡‘æ¸å˜
 * - Night: èµ›åšæ·±æ½œï¼Œå†·å³»ç§‘æŠ€
 */

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   â˜€ï¸ MORNING - æ¸…æ™¨ (Blue Archive Style)
   ã€Œæ¸…æ–°çš„è“ç™½è°ƒï¼Œé˜³å…‰ç©¿è¿‡çª—æˆ·çš„æ¸©æš–æ„Ÿã€
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
body.theme-morning {
  /* ğŸ¨ æ ¸å¿ƒè‰²æ¿ */
  --hue-primary: 200;
  --hue-accent: 199;
  
  /* ğŸŒ¤ï¸ å¤©ç©ºæ¸å˜ - æç®€è“ç™½ç° */
  --bg-gradient-start: #f8fafc;       /* Slate-50 */
  --bg-gradient-end: #e0f2fe;         /* Sky-100 */
  
  --bg-primary: #f1f5f9;              /* Slate-100 */
  --bg-secondary: #ffffff;
  --bg-tertiary: #f8fafc;
  
  /* ğŸ’¬ å¯¹è¯æ°”æ³¡ - é«˜äº®æ¯›ç»ç’ƒ */
  --bubble-bg-user: rgba(14, 165, 233, 0.12);   /* å¤©è“ç»ç’ƒ */
  --bubble-bg-ai: rgba(255, 255, 255, 0.85);    /* çº¯ç™½ç»ç’ƒ */
  --bubble-border: rgba(14, 165, 233, 0.25);
  --bubble-text: #0f172a;                        /* Slate-900 æ·±ç°è“ */
  --bubble-glow: 0 4px 20px rgba(14, 165, 233, 0.15);
  
  /* âœ¨ å¤©ç©ºè“å¼ºè°ƒè‰² */
  --accent-color: #0ea5e9;            /* Sky-500 */
  --accent-secondary: #38bdf8;        /* Sky-400 */
  --accent-danger: #ef4444;
  
  /* ğŸ® æ§åˆ¶å° - ç™½è‰²æ¯›ç»ç’ƒ */
  --input-panel-bg: rgba(255, 255, 255, 0.8);
  --input-panel-border: rgba(14, 165, 233, 0.2);
  --input-text: #1e293b;              /* Slate-800 */
  
  /* ğŸ”˜ æŒ‰é’® - å¤©ç©ºè“æ¸å˜ */
  --btn-primary-from: #0ea5e9;
  --btn-primary-to: #38bdf8;
  --btn-primary-shadow: rgba(14, 165, 233, 0.4);
  --btn-primary-hover: rgba(14, 165, 233, 0.15);
  
  /* âœ¨ å…‰æ™• - æŸ”å’Œè“å…‰ */
  --glow-color: rgba(14, 165, 233, 0.3);
  --glow-strong: rgba(14, 165, 233, 0.6);
  --star-color: rgba(255, 255, 255, 0.9);
  
  /* ğŸ“ åœ†æ¶¦ UI (æ— æ–œåˆ‡) */
  --skew-angle: 0deg;
  --skew-angle-subtle: 0deg;
  
  /* ğŸ“ æ–‡å­—é€‚é… - å¼ºåˆ¶æ·±è‰² */
  --text-main: #0f172a;
  --text-secondary: #475569;
  --text-muted: #64748b;
  
  /* ğŸ–¼ï¸ å¡ç‰‡æ ·å¼ */
  --card-bg: rgba(255, 255, 255, 0.75);
  --card-border: rgba(14, 165, 233, 0.15);
  --card-shadow: 0 4px 24px rgba(14, 165, 233, 0.1);
  
  /* ğŸ¨ ä¸»èƒŒæ™¯ */
  background: 
    /* æŸ”å’Œå…‰ç‚¹çº¹ç† */
    url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noise)' opacity='0.02'/%3E%3C/svg%3E"),
    linear-gradient(180deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
  background-attachment: fixed;
  color: var(--text-main);
}

/* â˜€ï¸ æ¸…æ™¨æ¨¡å¼ï¼šé˜³å…‰æ¯›ç»ç’ƒæ•ˆæœ */
body.theme-morning::before {
  content: '';
  position: fixed;
  top: -50%;
  right: -20%;
  width: 80%;
  height: 80%;
  background: radial-gradient(
    ellipse at center,
    rgba(255, 255, 255, 0.4) 0%,
    rgba(224, 242, 254, 0.2) 40%,
    transparent 70%
  );
  pointer-events: none;
  z-index: 0;
}

/* â˜€ï¸ æ¸…æ™¨æ°”æ³¡æ ·å¼ */
body.theme-morning .bubble-user {
  background: var(--bubble-bg-user);
  border: 1px solid var(--bubble-border);
  box-shadow: var(--bubble-glow), 0 2px 8px rgba(0, 0, 0, 0.05);
  color: var(--text-main);
}

body.theme-morning .bubble-ai {
  background: var(--bubble-bg-ai);
  border: 1px solid rgba(226, 232, 240, 0.8);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
  color: var(--text-main);
}

/* â˜€ï¸ æ¸…æ™¨è¾“å…¥é¢æ¿ */
body.theme-morning .input-cockpit {
  background: var(--input-panel-bg);
  border: 1px solid var(--input-panel-border);
  box-shadow: 
    0 -4px 30px rgba(14, 165, 233, 0.1),
    0 8px 32px rgba(0, 0, 0, 0.08);
  transform: translateX(-50%); /* æ— æ–œåˆ‡ */
  border-radius: 20px;
}

body.theme-morning .input-cockpit > * {
  transform: none;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸŒ† SUNSET - é»„æ˜ (Your Name / Magic Hour Style)
   ã€Œé€¢é­”ä¹‹æ—¶ï¼Œç´«é‡‘äº¤ç»‡çš„é­”å¹»å¤©ç©ºã€
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
body.theme-sunset {
  /* ğŸ¨ æ ¸å¿ƒè‰²æ¿ */
  --hue-primary: 280;
  --hue-accent: 45;
  
  /* ğŸŒ‡ ä¸‰æ®µå¼å¤©ç©ºæ¸å˜ï¼šé›é’ â†’ æ´‹çº¢ â†’ é‡‘ç¥ç€ */
  --bg-gradient-start: #4c1d95;       /* Violet-900 (é¡¶éƒ¨æ·±é‚ƒå¤œç©º) */
  --bg-gradient-mid: #be185d;         /* Pink-700 (ä¸­é—´æ™šéœ) */
  --bg-gradient-end: #fbbf24;         /* Amber-400 (åº•éƒ¨åœ°å¹³çº¿ä½™æ™–) */
  
  --bg-primary: hsl(280, 50%, 15%);
  --bg-secondary: hsl(300, 40%, 18%);
  --bg-tertiary: hsl(35, 60%, 12%);
  
  /* ğŸ’¬ å¯¹è¯æ°”æ³¡ - æ·±ç´«ç»ç’ƒ + é‡‘è¾¹ */
  --bubble-bg-user: rgba(251, 191, 36, 0.15);   /* é‡‘è‰²ç»ç’ƒ */
  --bubble-bg-ai: rgba(30, 10, 60, 0.7);        /* æ·±ç´«çº¢ç»ç’ƒ */
  --bubble-border: rgba(251, 191, 36, 0.5);     /* é‡‘è‰²è¾¹æ¡† */
  --bubble-text: #ffffff;                        /* çº¯ç™½æ–‡å­— */
  --bubble-glow: 0 0 25px rgba(251, 191, 36, 0.25);
  
  /* âœ¨ æµé‡‘å¼ºè°ƒè‰² */
  --accent-color: #fbbf24;            /* Amber-400 Liquid Gold */
  --accent-secondary: #f59e0b;        /* Amber-500 */
  --accent-danger: #dc2626;
  
  /* ğŸ® æ§åˆ¶å° - æ·±è‰²å®¹å™¨å‹ä½è‰³ä¸½èƒŒæ™¯ */
  --input-panel-bg: rgba(30, 10, 60, 0.75);
  --input-panel-border: rgba(251, 191, 36, 0.4);
  --input-text: #fffbeb;              /* Amber-50 ç±³é»„è‰² */
  
  /* ğŸ”˜ æŒ‰é’® - é‡‘è‰²æ¸å˜ */
  --btn-primary-from: #f59e0b;
  --btn-primary-to: #fbbf24;
  --btn-primary-shadow: rgba(251, 191, 36, 0.5);
  --btn-primary-hover: rgba(251, 191, 36, 0.2);
  
  /* âœ¨ é‡‘è‰²å…‰æ™• */
  --glow-color: rgba(251, 191, 36, 0.5);
  --glow-strong: rgba(251, 191, 36, 0.8);
  --star-color: rgba(251, 191, 36, 0.9);
  
  /* ğŸ“ å¾®æ–œåˆ‡ */
  --skew-angle: -8deg;
  --skew-angle-subtle: -4deg;
  
  /* ğŸ“ æ–‡å­—é€‚é… - çº¯ç™½ + å¼ºé˜´å½± */
  --text-main: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.85);
  --text-muted: rgba(255, 255, 255, 0.6);
  --text-shadow: 0 2px 8px rgba(23, 10, 50, 0.6);
  
  /* ğŸ–¼ï¸ å¡ç‰‡æ ·å¼ - æ·±è‰²å‹ä½èƒŒæ™¯ */
  --card-bg: rgba(30, 10, 60, 0.6);
  --card-border: rgba(251, 191, 36, 0.3);
  --card-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
  
  /* ğŸŒ… æš–è‰²æš—è§’ */
  --vignette-color: rgba(23, 10, 50, 0.7);
  
  /* ğŸ¨ ä¸»èƒŒæ™¯ - ä¸‰æ®µå¼æ¸å˜ */
  background: 
    /* æš–è‰²å™ªç‚¹çº¹ç† */
    url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E"),
    linear-gradient(
      180deg,
      var(--bg-gradient-start) 0%,
      var(--bg-gradient-mid) 50%,
      var(--bg-gradient-end) 100%
    );
  background-attachment: fixed;
  color: var(--text-main);
}

/* ğŸŒ† é»„æ˜æš—è§’æ•ˆæœ */
body.theme-sunset::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  background: radial-gradient(
    ellipse 80% 60% at 50% 50%,
    transparent 30%,
    var(--vignette-color) 100%
  );
}

/* ğŸŒ† é»„æ˜æ°”æ³¡ - é‡‘è‰²è¾¹æ¡†å‘å…‰ */
body.theme-sunset .bubble-user {
  background: var(--bubble-bg-user);
  border: 1px solid var(--bubble-border);
  box-shadow: var(--bubble-glow), inset 0 1px 0 rgba(251, 191, 36, 0.2);
  color: var(--text-main);
  text-shadow: var(--text-shadow);
}

body.theme-sunset .bubble-ai {
  background: var(--bubble-bg-ai);
  border: 1px solid var(--bubble-border);
  box-shadow: var(--bubble-glow), inset 0 1px 0 rgba(190, 24, 93, 0.2);
  color: var(--text-main);
  text-shadow: var(--text-shadow);
}

/* ğŸŒ† é»„æ˜è¾“å…¥é¢æ¿ */
body.theme-sunset .input-cockpit {
  background: var(--input-panel-bg);
  border: 1px solid var(--input-panel-border);
  box-shadow: 
    0 -8px 40px rgba(251, 191, 36, 0.15),
    0 8px 32px rgba(0, 0, 0, 0.5),
    inset 0 1px 0 rgba(251, 191, 36, 0.2);
}

/* ğŸŒ† é»„æ˜æŒ‰é’® - é‡‘è‰²è„‰å†² */
body.theme-sunset .btn-action {
  background: linear-gradient(135deg, var(--btn-primary-from), var(--btn-primary-to));
  box-shadow: 
    0 4px 20px var(--btn-primary-shadow),
    0 0 30px rgba(251, 191, 36, 0.3);
}

body.theme-sunset .btn-action:hover {
  box-shadow: 
    0 6px 30px var(--btn-primary-shadow),
    0 0 50px rgba(251, 191, 36, 0.5);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸŒ™ NIGHT - æ·±å¤œ (Cyber Deep Dive)
   ã€Œèµ›åšæ˜Ÿç©ºï¼Œå†·å³»çš„éœ“è™¹ç§‘æŠ€æ„Ÿã€
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
body.theme-night {
  /* ğŸ¨ æ ¸å¿ƒè‰²æ¿ */
  --hue-primary: 222;
  --hue-accent: 187;
  
  /* ğŸŒŒ æ·±ç©ºæ¸å˜ */
  --bg-gradient-start: #020617;       /* Slate-950 */
  --bg-gradient-end: #0f172a;         /* Slate-900 */
  
  --bg-primary: #0f172a;
  --bg-secondary: #1e293b;
  --bg-tertiary: #020617;
  
  /* ğŸ’¬ å¯¹è¯æ°”æ³¡ - èµ›åšç»ç’ƒ */
  --bubble-bg-user: rgba(34, 211, 238, 0.1);    /* é’è‰²ç»ç’ƒ */
  --bubble-bg-ai: rgba(0, 0, 0, 0.6);           /* æ·±é»‘ç»ç’ƒ */
  --bubble-border: rgba(34, 211, 238, 0.35);
  --bubble-text: #e2e8f0;                        /* Slate-200 */
  --bubble-glow: 0 0 25px rgba(34, 211, 238, 0.25);
  
  /* âœ¨ èµ›åšé’å¼ºè°ƒè‰² */
  --accent-color: #22d3ee;            /* Cyan-400 */
  --accent-secondary: #06b6d4;        /* Cyan-500 */
  --accent-danger: #f43f5e;
  
  /* ğŸ® æ§åˆ¶å° - æ·±è‰²æ¯›ç»ç’ƒ */
  --input-panel-bg: rgba(15, 23, 42, 0.9);
  --input-panel-border: rgba(34, 211, 238, 0.25);
  --input-text: #f1f5f9;
  
  /* ğŸ”˜ æŒ‰é’® - éœ“è™¹æ¸å˜ */
  --btn-primary-from: #22d3ee;
  --btn-primary-to: #818cf8;          /* Indigo-400 */
  --btn-primary-shadow: rgba(34, 211, 238, 0.5);
  --btn-primary-hover: rgba(34, 211, 238, 0.2);
  
  /* âœ¨ éœ“è™¹å…‰æ™• */
  --glow-color: rgba(34, 211, 238, 0.5);
  --glow-strong: rgba(34, 211, 238, 0.8);
  --star-color: rgba(255, 255, 255, 0.8);
  
  /* ğŸ“ ç§‘æŠ€æ–œåˆ‡ */
  --skew-angle: -12deg;
  --skew-angle-subtle: -6deg;
  
  /* ğŸ“ æ–‡å­—é€‚é… - æµ…ç° + å‘å…‰ */
  --text-main: #e2e8f0;
  --text-secondary: #cbd5e1;
  --text-muted: #94a3b8;
  --text-glow: 0 0 10px rgba(34, 211, 238, 0.5);
  
  /* ğŸ–¼ï¸ å¡ç‰‡æ ·å¼ */
  --card-bg: rgba(15, 23, 42, 0.8);
  --card-border: rgba(34, 211, 238, 0.2);
  --card-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
  
  /* ğŸ¨ ä¸»èƒŒæ™¯ */
  background: 
    /* å™ªç‚¹çº¹ç† */
    url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E"),
    linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
  background-attachment: fixed;
  color: var(--text-main);
}

/* ğŸŒ™ æ·±å¤œæ‰«æçº¿æ•ˆæœ */
body.theme-night::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.03) 2px,
    rgba(0, 0, 0, 0.03) 4px
  );
}

/* ğŸŒ™ æ·±å¤œæ°”æ³¡ - éœ“è™¹è¾¹æ¡† */
body.theme-night .bubble-user {
  background: var(--bubble-bg-user);
  border: 1px solid var(--bubble-border);
  box-shadow: var(--bubble-glow), inset 0 1px 0 rgba(34, 211, 238, 0.1);
  color: var(--text-main);
}

body.theme-night .bubble-ai {
  background: var(--bubble-bg-ai);
  border: 1px solid var(--bubble-border);
  box-shadow: var(--bubble-glow), inset 0 1px 0 rgba(129, 140, 248, 0.1);
  color: var(--text-main);
}

/* ğŸŒ™ æ·±å¤œè¾“å…¥é¢æ¿ */
body.theme-night .input-cockpit {
  background: var(--input-panel-bg);
  border: 1px solid var(--input-panel-border);
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.4),
    0 0 60px var(--glow-color),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

/* ğŸŒ™ æ·±å¤œæŒ‰é’® - éœ“è™¹è„‰å†² */
body.theme-night .btn-action {
  background: linear-gradient(135deg, var(--btn-primary-from), var(--btn-primary-to));
  box-shadow: 
    0 4px 20px var(--btn-primary-shadow),
    0 0 40px rgba(34, 211, 238, 0.2);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ”¤ åŠ¨æ€å­—ä½“é€‚é…ç³»ç»Ÿ
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

/* Morning: æ·±è‰²å­—ä½“ */
body.theme-morning {
  --font-weight-normal: 400;
  --font-weight-medium: 500;
}

body.theme-morning .text-primary {
  color: var(--text-main) !important;
}

body.theme-morning .text-secondary {
  color: var(--text-secondary) !important;
}

/* Sunset: ç™½è‰²å­—ä½“ + é˜´å½± */
body.theme-sunset .text-primary,
body.theme-sunset .text-secondary,
body.theme-sunset h1, body.theme-sunset h2, body.theme-sunset h3,
body.theme-sunset p, body.theme-sunset span {
  text-shadow: var(--text-shadow);
}

/* Night: æµ…è‰²å­—ä½“ + å‘å…‰ */
body.theme-night h1, body.theme-night h2 {
  text-shadow: var(--text-glow);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ­ æ—¶é—´è½®ç›˜åˆ‡æ¢æŒ‰é’®
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.theme-cycle-btn {
  position: fixed;
  top: 1rem;
  right: 1rem;
  width: 3rem;
  height: 3rem;
  border-radius: 50%;
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  backdrop-filter: blur(12px);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.25rem;
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  z-index: 100;
  box-shadow: var(--card-shadow);
}

.theme-cycle-btn:hover {
  transform: scale(1.1) rotate(15deg);
  box-shadow: 0 0 30px var(--glow-color);
}

.theme-cycle-btn:active {
  transform: scale(0.95);
}

/* ä¸»é¢˜è¿‡æ¸¡åŠ¨ç”» */
body {
  transition: 
    background 0.6s ease-out,
    color 0.3s ease-out;
}

body::before {
  transition: opacity 0.6s ease-out;
}
